<div class="profile-page">
    <h1>My Profile</h1>

    <div class="profile-container" *ngIf="profile">
        <!-- Basic Information -->
        <div class="profile-section">
            <h2>Basic Information</h2>
            <div class="info-grid">
                <div class="info-item">
                    <label>First Name</label>
                    <p>{{ profile.firstName || user?.firstName }}</p>
                </div>
                <div class="info-item">
                    <label>Last Name</label>
                    <p>{{ profile.lastName || user?.lastName }}</p>
                </div>
                <div class="info-item">
                    <label>Email</label>
                    <p>{{ profile.email || user?.email }}</p>
                </div>
                <div class="info-item">
                    <label>Phone</label>
                    <p>{{ profile.phoneNumber || user?.phoneNumber || 'Not provided' }}</p>
                </div>
            </div>
        </div>

        <!-- Professional Information -->
        <div class="profile-section">
            <h2>Professional Information</h2>
            <div class="info-grid">
                <div class="info-item">
                    <label>Experience</label>
                    <p>{{ profile.experienceYears || profile.experience }} years</p>
                </div>
                <div class="info-item">
                    <label>Availability</label>
                    <div class="availability-toggle">
                        <span class="toggle-label" [class.available]="profile.available">
                            {{ profile.available ? 'Available' : 'Unavailable' }}
                        </span>
                        <div class="toggle-switch" [class.active]="profile.available" (click)="toggleAvailability()">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Skills -->
        <div class="profile-section">
            <h2>Skills</h2>
            <div class="skills-container">
                <span *ngFor="let skill of profile.skills" class="skill-tag">
                    {{ skill }}
                </span>
            </div>

            <!-- Add Skills Form -->
            <div class="add-skills">
                <input type="text" [(ngModel)]="newSkill" placeholder="Add a new skill" class="skill-input"
                    (keydown.enter)="addSkill()">
                <button (click)="addSkill()" class="btn-add">Add Skill</button>
            </div>
        </div>

        <!-- Documents -->
        <div class="profile-section" *ngIf="profile.documentsUrl">
            <h2>Documents</h2>
            <div class="documents-list">
                <div *ngFor="let doc of profile.documentsUrl" class="document-item">
                    <span>ðŸ“„ {{ doc }}</span>
                    <a [href]="doc" target="_blank" class="btn-view">View</a>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="!profile" class="loading-state">
        <p>Loading profile...</p>
    </div>
</div>